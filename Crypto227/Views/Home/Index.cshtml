@{
    ViewData["Title"] = "Dashboard";
    ViewData["SubTitle"] = " Material Dashboard";
}
@model Coin
<div class="row" id="HighRatedList">
    @Html.Partial("~/Views/CoinList/_CoinWidgetPartial.cshtml", @Model)
</div>
<div class="row">
    <div class="col-lg-12 col-md-12">
        <div class="card">
            <div class="card-header" data-background-color="orange">
                <h4 class="title">Top Coin Details</h4>
            </div>
            <div class="card-content table-responsive">
                <table class="table table-hover">
                    <thead class="text-warning">
                    <th>ID</th>
                    <th>Name</th>
                    <th>Salary</th>
                    <th>Country</th>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Dakota Rice</td>
                            <td>$36,738</td>
                            <td>Niger</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Minerva Hooper</td>
                            <td>$23,789</td>
                            <td>Curaçao</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Sage Rodriguez</td>
                            <td>$56,142</td>
                            <td>Netherlands</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Philip Chaney</td>
                            <td>$38,735</td>
                            <td>Korea, South</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script type="text/javascript">
        $(function () {
            // On initial load
            $(".percentage:contains('-')").removeClass('text-success').addClass('text-danger');
            $('.percentage:not(:contains("-"))').removeClass('text-danger').addClass('text-success');

            setInterval(function () {
                $("#HighRatedList").load("@Url.Action("GetData", "CoinList")", function (text, status, xhr) {
                    $(".percentage:contains('-')").removeClass('text-success').addClass('text-danger');
                    $('.percentage:not(:contains("-"))').removeClass('text-danger').addClass('text-success');
                });
            }, 2000);
        });
    </script>
}

